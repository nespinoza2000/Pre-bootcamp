<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>NinjaMan</title>
</head>
<body>
    <div id="world"></div>
    <div id="ninjaman"></div>
    <div id="scoreboard">
        <h2>Puntos</h2>
        <p>Puntos: <span id="puntos">0</span></p>
    </div>
    <script type="text/javascript">
        var world = [
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],  
            [1,0,2,3,0,0,2,0,3,2,0,2,3,2,1], 
            [1,3,1,2,0,2,1,1,2,0,2,1,0,1,1], 
            [1,2,3,3,1,2,0,0,2,3,1,2,3,2,1],
            [1,3,1,2,0,2,1,2,1,0,0,1,2,1,1], 
            [1,2,3,2,1,2,0,3,1,2,1,2,0,2,1],
            [1,2,1,3,0,2,1,2,1,3,0,1,2,1,1],
            [1,0,2,2,1,2,0,3,1,0,1,2,0,0,1], 
            [1,3,1,3,0,2,1,2,1,3,0,1,2,2,1], 
            [1,2,2,2,1,2,2,3,0,1,0,2,2,0,1],
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
        ];
        var worlddiccionario = {
            0: 'blank',
            1: 'wall',
            2: 'sushi',
            3: 'onigiri'
        }
        var puntos = 0;
        function dibujarMundo(){
            output = "";
            for(var row=0; row < world.length; row++){
                output += "<div class = 'row'>"
                for(var x=0; x<world[row].length; x++){
                    output += "<div class = '"+ worlddiccionario[world[row][x]] +"'></div>"
                    //worlddiccionario[world[row][x]]
                }
                output += "</div>"
            }
            document.getElementById('world').innerHTML = output;
        }
        dibujarMundo();
        var ninjaman = {
            x: 1,
            y: 1
        }
        function dibujarNinja(){
            document.getElementById('ninjaman').style.top = ninjaman.y * 40 + 'px'
            document.getElementById('ninjaman').style.left = ninjaman.x * 40 + 'px'
        }
        dibujarNinja()
        document.onkeydown = function(e){
            if(e.keyCode == 37){
                if(world[ninjaman.y][ninjaman.x - 1] != 1){
                    ninjaman.x--;
                }
            }
            if(e.keyCode == 39){
                if(world[ninjaman.y][ninjaman.x + 1] != 1){
                    ninjaman.x++;
                }
            }
            if(e.keyCode == 38){
                if(world[ninjaman.y - 1][ninjaman.x] != 1){
                    ninjaman.y--;
                }
            }
            if(e.keyCode == 40){
                if(world[ninjaman.y + 1][ninjaman.x] != 1){
                    ninjaman.y++;
                }
            }
            if(world[ninjaman.y][ninjaman.x] === 2){
                puntos += 10;
            } 
            if(world[ninjaman.y][ninjaman.x] === 3){
                puntos += 5;
            }
            document.getElementById('puntos').textContent = puntos;
            world[ninjaman.y][ninjaman.x] = 0;
            dibujarMundo()
            dibujarNinja()
        }
        puntos();  //Contador de puntos o Scoreboard
    </script>
</body>
</html>